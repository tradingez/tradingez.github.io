"use strict";angular.module("sbAdminApp").controller("LoginCtrl",function($scope,Users,$cookies,$location,$rootScope){$scope.error=null,$scope.username="",$scope.password="",$rootScope.user_info={},$cookies.put("user_info",JSON.stringify({})),$scope.login=function(){Users.login($scope.username,$scope.password).then(function(data){if(data&&data.accessToken){var user_data=data;user_data.token=data.accessToken,delete user_data.settings,delete user_data.headerConfig,$rootScope.user_info=user_data,$cookies.put("user_info",JSON.stringify(user_data)),$scope.error=null,$location.path("/dashboard/home")}else $scope.error=data.message})["catch"](function(data){$scope.error="Check your network"})}});